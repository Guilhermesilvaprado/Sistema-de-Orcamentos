{% extends "base.html" %}

{% block title %}{{ 'Editar Produto' if produto else 'Novo Produto' }} - Sistema de Orçamentos{% endblock %}

{% block content %}
<h1 class="h3 mb-3">{{ 'Editar Produto' if produto else 'Cadastro de Produto' }}</h1>

<form action="{{ url_for('atualizar_produto', produto_id=produto.id) if produto else url_for('criar_produto') }}"
      method="post" class="card p-3 shadow-sm">

    <div class="mb-3">
        <label for="nome" class="form-label">Nome *</label>
        <input type="text" class="form-control" id="nome" name="nome" required
               value="{{ produto.nome if produto else '' }}">
    </div>

    <div class="mb-3">
        <label for="descricao" class="form-label">Descrição</label>
        <textarea id="descricao" name="descricao" class="form-control" rows="3">{{ produto.descricao if produto else '' }}</textarea>
    </div>

    <div class="mb-3">
        <label for="preco_base" class="form-label">Preço Base (R$) *</label>
        <input type="number" step="0.01" min="0" id="preco_base" name="preco_base" class="form-control" required
               value="{{ '%.2f'|format(produto.preco_base) if produto else '' }}">
    </div>

    <button type="submit" class="btn btn-success">Salvar</button>
    <a href="{{ url_for('listar_produtos') }}" class="btn btn-secondary">Cancelar</a>
</form>
{% endblock %}